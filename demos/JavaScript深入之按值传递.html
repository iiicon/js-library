<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    
    // ECMAScript中所有函数的参数都是按值传递的
    // 也就是说，把函数外部的值复制给函数内部的参数，就和把值从一个变量复制到另一个变量一样。

    var value = 1;
    function foo(v) {
      var v = 2;
      console.log(v)
    }
    foo(value)
    console.log(value)

    // 很好理解，当传递 value 到函数 foo 中，相当于拷贝了一份 value，假设拷贝的这份叫 _value，函数中修改的都是 _value 的值，而不会影响原来的 value 值
    
    `
      var obj = {
          value: 1
      };
      function foo(o) {
          o.value = 2;
          console.log(o.value); //2
      }
      foo(obj);
      console.log(obj.value) // 2
    `
    // 这是共享传递，拷贝了一个对象的副本，但是他找到了原值的属性，所以修改了
    // 共享传递就是 在传递对象的时候，传递对象的引用的副本
    `
      var obj = {
          value: 1
      };
      function foo(o) {
          o = 2;
          console.log(o); //2
      }
      foo(obj);
      console.log(obj.value) // 1
    `

    // consequently, you can think like this
    // 参数如果是基本类型是按值传递，如果是引用类型按共享传递。
    // 但是因为拷贝副本也是一种值的拷贝，所以在高程中也直接认为是按值传递了

    `
      个人理解：
      按值传递其实就是传递一个副本，这个副本可以是值，也可以是对象，值就是栈中的值，对象就是栈中的指针，只不过是另一个值和另一个指针
    `

  </script>
</body>
</html>